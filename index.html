<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>寶貝成長紀錄</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FF8A7A">
    <!-- Chart.js CDN 作為 fallback -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <!-- 主容器 -->
    <div id="app" class="app">
        <!-- 導航欄 -->
        <nav class="navbar">
            <div class="nav-content">
                <div class="nav-left">
                    <button id="menuBtn" class="menu-btn">
                        <span class="hamburger"></span>
                    </button>
                    <h1 class="app-title">寶貝成長紀錄</h1>
                </div>
                <div class="nav-right">
                    <button id="quickRecordBtn" class="quick-record-btn">快速記錄</button>
                    <button id="themeToggle" class="theme-toggle">🌙</button>
                </div>
            </div>
        </nav>

        <!-- 側邊欄 -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-content">
                <div class="user-profile">
                    <div class="avatar">👶</div>
                    <h3 id="currentBabyName">選擇寶寶</h3>
                </div>
                <nav class="sidebar-nav">
                    <ul>
                        <li><a href="#dashboard" class="nav-link active">📊 儀表板</a></li>
                        <li><a href="#babies" class="nav-link">👶 寶寶檔案</a></li>
                        <li><a href="#record" class="nav-link">📝 快速記錄</a></li>
                        <li><a href="#feeding" class="nav-link">🍼 餵食記錄</a></li>
                        <li><a href="#sleep" class="nav-link">😴 睡眠記錄</a></li>
                        <li><a href="#diaper" class="nav-link">🚽 排泄記錄</a></li>
                        <li><a href="#activity" class="nav-link">🎯 活動追蹤</a></li>
                        <li><a href="#health" class="nav-link">🏥 健康監測</a></li>
                        <li><a href="#mood" class="nav-link">😊 情緒行為</a></li>
                        <li><a href="#milestones" class="nav-link">🎖️ 里程碑</a></li>
                        <li><a href="#memories" class="nav-link">💝 記憶寶盒</a></li>
                        <li><a href="#analytics" class="nav-link">📈 數據分析</a></li>
                        <li><a href="#settings" class="nav-link">⚙️ 設置</a></li>
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- 主內容區 -->
        <main id="mainContent" class="main-content">
            <!-- 儀表板頁面 -->
            <section id="dashboardPage" class="page active">
                <div class="page-header">
                    <h2>今日概覽</h2>
                    <p id="todayDate">載入中...</p>
                </div>

                <!-- 寶寶選擇器 -->
                <div class="baby-selector">
                    <select id="babySelect">
                        <option value="">選擇寶寶</option>
                    </select>
                    <button id="addBabyBtn" class="add-baby-btn">➕ 新增寶寶</button>
                </div>

                <!-- 快速操作 -->
                <div class="quick-actions">
                    <button class="quick-action-btn feeding" data-type="feeding">
                        <span class="icon">🍼</span>
                        <span class="label">餵食</span>
                    </button>
                    <button class="quick-action-btn sleep" data-type="sleep">
                        <span class="icon">😴</span>
                        <span class="label">睡眠</span>
                    </button>
                    <button class="quick-action-btn diaper" data-type="diaper">
                        <span class="icon">🚽</span>
                        <span class="label">換尿布</span>
                    </button>
                    <button class="quick-action-btn activity" data-type="activity">
                        <span class="icon">🎯</span>
                        <span class="label">活動</span>
                    </button>
                </div>

                <!-- 今日統計 -->
                <div class="today-stats">
                    <div class="stat-card">
                        <h3>餵食次數</h3>
                        <div class="stat-value" id="todayFeeding">0</div>
                        <div class="stat-meta">次</div>
                    </div>
                    <div class="stat-card">
                        <h3>睡眠時間</h3>
                        <div class="stat-value" id="todaySleep">0</div>
                        <div class="stat-meta">小時</div>
                    </div>
                    <div class="stat-card">
                        <h3>換尿布</h3>
                        <div class="stat-value" id="todayDiaper">0</div>
                        <div class="stat-meta">次</div>
                    </div>
                    <div class="stat-card">
                        <h3>活動記錄</h3>
                        <div class="stat-value" id="todayActivity">0</div>
                        <div class="stat-meta">項</div>
                    </div>
                </div>

                <!-- 最近記錄 -->
                <div class="recent-records">
                    <h3>最近記錄</h3>
                    <div id="recentRecordsList" class="records-list">
                        <!-- 動態生成 -->
                    </div>
                </div>
            </section>

            <!-- 寶寶檔案頁面 -->
            <section id="babiesPage" class="page">
                <div class="page-header">
                    <h2>寶寶檔案</h2>
                    <button id="addBabyBtnPage" class="btn btn-primary">新增寶寶</button>
                </div>
                <div id="babiesList" class="babies-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 快速記錄頁面 -->
            <section id="recordPage" class="page">
                <div class="page-header">
                    <h2>快速記錄</h2>
                </div>
                <div class="record-types">
                    <div class="record-type-card" data-type="feeding">
                        <span class="icon">🍼</span>
                        <h3>餵食記錄</h3>
                        <p>母乳、配方奶、固體食物</p>
                    </div>
                    <div class="record-type-card" data-type="sleep">
                        <span class="icon">😴</span>
                        <h3>睡眠記錄</h3>
                        <p>睡眠時間與品質追蹤</p>
                    </div>
                    <div class="record-type-card" data-type="diaper">
                        <span class="icon">🚽</span>
                        <h3>排泄記錄</h3>
                        <p>尿液、排便紀錄</p>
                    </div>
                    <div class="record-type-card" data-type="activity">
                        <span class="icon">🎯</span>
                        <h3>活動記錄</h3>
                        <p>護理、遊戲、外出活動</p>
                    </div>
                    <div class="record-type-card" data-type="health">
                        <span class="icon">🏥</span>
                        <h3>健康記錄</h3>
                        <p>體溫、體重、用藥記錄</p>
                    </div>
                    <div class="record-type-card" data-type="mood">
                        <span class="icon">😊</span>
                        <h3>情緒行為</h3>
                        <p>情緒狀態與行為記錄</p>
                    </div>
                </div>
            </section>

            <!-- 餵食記錄頁面 -->
            <section id="feedingPage" class="page">
                <div class="page-header">
                    <h2>餵食記錄</h2>
                    <button id="addFeedingBtn" class="btn btn-primary">新增記錄</button>
                </div>
                <div id="feedingList" class="records-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 睡眠記錄頁面 -->
            <section id="sleepPage" class="page">
                <div class="page-header">
                    <h2>睡眠記錄</h2>
                    <button id="addSleepBtn" class="btn btn-primary">新增記錄</button>
                </div>
                <div class="sleep-timer" id="sleepTimer" style="display: none;">
                    <div class="timer-display">
                        <h3>睡眠計時中</h3>
                        <div class="timer-time" id="timerDisplay">00:00:00</div>
                        <button id="stopSleepBtn" class="btn btn-secondary">停止睡眠</button>
                    </div>
                </div>
                <div id="sleepList" class="records-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 排泄記錄頁面 -->
            <section id="diaperPage" class="page">
                <div class="page-header">
                    <h2>排泄記錄</h2>
                    <button id="addDiaperBtn" class="btn btn-primary">新增記錄</button>
                </div>
                <div id="diaperList" class="records-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 活動追蹤頁面 -->
            <section id="activityPage" class="page">
                <div class="page-header">
                    <h2>活動追蹤</h2>
                    <button id="addActivityBtn" class="btn btn-primary">新增記錄</button>
                </div>
                <div id="activityList" class="records-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 健康監測頁面 -->
            <section id="healthPage" class="page">
                <div class="page-header">
                    <h2>健康監測</h2>
                    <button id="addHealthBtn" class="btn btn-primary">新增記錄</button>
                </div>
                <div id="healthList" class="records-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 情緒行為頁面 -->
            <section id="moodPage" class="page">
                <div class="page-header">
                    <h2>情緒行為</h2>
                    <button id="addMoodBtn" class="btn btn-primary">新增記錄</button>
                </div>
                <div id="moodList" class="records-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 里程碑頁面 -->
            <section id="milestonesPage" class="page">
                <div class="page-header">
                    <h2>成長里程碑</h2>
                    <button id="addMilestoneBtn" class="btn btn-primary">新增里程碑</button>
                </div>
                <div class="milestones-tabs">
                    <button class="tab-btn active" data-tab="upcoming">待達成</button>
                    <button class="tab-btn" data-tab="achieved">已達成</button>
                    <button class="tab-btn" data-tab="custom">自定義</button>
                </div>
                <div id="milestonesList" class="milestones-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 記憶寶盒頁面 -->
            <section id="memoriesPage" class="page">
                <div class="page-header">
                    <h2>記憶寶盒</h2>
                    <button id="addMemoryBtn" class="btn btn-primary">新增記憶</button>
                </div>
                <div class="memories-filter">
                    <select id="memoryFilter">
                        <option value="all">全部記憶</option>
                        <option value="daily">每日亮點</option>
                        <option value="story">成長故事</option>
                        <option value="photo">照片日記</option>
                        <option value="quote">語錄收集</option>
                        <option value="first">第一次</option>
                    </select>
                </div>
                <div id="memoriesList" class="memories-list">
                    <!-- 動態生成 -->
                </div>
            </section>

            <!-- 數據分析頁面 -->
            <section id="analyticsPage" class="page">
                <div class="page-header">
                    <h2>數據分析</h2>
                </div>
                <div class="analytics-filters">
                    <select id="analyticsType">
                        <option value="feeding">餵食分析</option>
                        <option value="sleep">睡眠分析</option>
                        <option value="growth">成長分析</option>
                        <option value="mood">情緒分析</option>
                    </select>
                    <select id="analyticsRange">
                        <option value="week">最近一週</option>
                        <option value="month">最近一月</option>
                        <option value="quarter">最近三月</option>
                        <option value="year">最近一年</option>
                    </select>
                </div>
                <div class="charts-container">
                    <div class="chart-card">
                        <h3 id="chartTitle">分析圖表</h3>
                        <canvas id="mainChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>統計摘要</h3>
                        <div id="statsContainer" class="stats-grid">
                            <!-- 動態生成統計內容 -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- 設置頁面 -->
            <section id="settingsPage" class="page">
                <div class="page-header">
                    <h2>設置</h2>
                </div>
                <div class="settings-groups">
                    <div class="settings-group">
                        <h3>外觀設置</h3>
                        <div class="setting-item">
                            <label>
                                <span>深色模式</span>
                                <input type="checkbox" id="darkModeToggle">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <span>語言設置</span>
                                <select id="languageSelect">
                                    <option value="zh-TW">繁體中文</option>
                                    <option value="zh-CN">简体中文</option>
                                    <option value="en">English</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div class="settings-group">
                        <h3>通知設置</h3>
                        <div class="setting-item">
                            <label>
                                <span>餵食提醒</span>
                                <input type="checkbox" id="feedingNotifications" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <span>睡眠提醒</span>
                                <input type="checkbox" id="sleepNotifications" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="settings-group">
                        <h3>數據管理</h3>
                        <div class="setting-item">
                            <button id="exportDataBtn" class="btn btn-secondary">匯出數據</button>
                            <button id="importDataBtn" class="btn btn-secondary">匯入數據</button>
                        </div>
                        <div class="setting-item">
                            <button id="clearDataBtn" class="btn btn-danger">清除所有數據</button>
                        </div>
                    </div>
                    <div class="settings-group">
                        <h3>關於應用</h3>
                        <div class="setting-item">
                            <p>寶貝成長紀錄 v1.0.0</p>
                            <p>用愛記錄每一刻成長</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 遮罩層 -->
        <div id="overlay" class="overlay"></div>

        <!-- 模態框容器 -->
        <div id="modalContainer"></div>

        <!-- 快速記錄抽屜 -->
        <div id="quickRecordDrawer" class="quick-record-drawer">
            <div class="drawer-content">
                <div class="drawer-header">
                    <h3>快速記錄</h3>
                    <button id="closeQuickRecord" class="close-btn">✕</button>
                </div>
                <div class="drawer-body">
                    <div class="quick-record-options">
                        <button class="quick-option" data-type="feeding">
                            <span class="icon">🍼</span>
                            <span>餵食</span>
                        </button>
                        <button class="quick-option" data-type="sleep">
                            <span class="icon">😴</span>
                            <span>睡眠</span>
                        </button>
                        <button class="quick-option" data-type="diaper">
                            <span class="icon">🚽</span>
                            <span>排泄</span>
                        </button>
                        <button class="quick-option" data-type="activity">
                            <span class="icon">🎯</span>
                            <span>活動</span>
                        </button>
                        <button class="quick-option" data-type="health">
                            <span class="icon">🏥</span>
                            <span>健康</span>
                        </button>
                        <button class="quick-option" data-type="mood">
                            <span class="icon">😊</span>
                            <span>情緒</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 載入指示器 -->
        <div id="loadingIndicator" class="loading-indicator">
            <div class="spinner"></div>
            <p>載入中...</p>
        </div>

        <!-- Toast 通知 -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <!-- 隱藏的檔案輸入 -->
    <input type="file" id="hiddenFileInput" style="display: none;" accept="image/*">
    <input type="file" id="importFileInput" style="display: none;" accept=".json">

    <!-- 腳本文件 -->
    <script src="script.js"></script>
</body>
</html>