<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>寶寶照護助手</title>
    <link rel="stylesheet" href="style.css">
    <script src="chart.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- 頂部導航 -->
        <header class="header">
            <h1 class="app-title">寶寶照護助手</h1>
            <div class="header-controls">
                <button id="themeToggle" class="btn-icon" title="切換主題">🌙</button>
                <button id="settingsBtn" class="btn-icon" title="設定">⚙️</button>
                <button id="backupBtn" class="btn-icon" title="備份資料">💾</button>
            </div>
        </header>

        <!-- 孩子選擇器 -->
        <div class="child-selector">
            <div class="child-tabs" id="childTabs">
                <button class="child-tab add-child-tab" id="addChildTab">+ 新增孩子</button>
            </div>
        </div>

        <!-- 快速記錄按鈕 -->
        <div class="quick-actions">
            <h2>快速記錄</h2>
            <div class="quick-buttons">
                <button class="quick-btn" data-action="feeding">🍼 餵食</button>
                <button class="quick-btn" data-action="sleep">😴 睡眠</button>
                <button class="quick-btn" data-action="diaper">👶 尿布</button>
                <button class="quick-btn" data-action="health">🏥 健康</button>
            </div>
        </div>

        <!-- 主要內容區域 -->
        <main class="main-content">
            <!-- 歡迎頁面 -->
            <div id="welcomePage" class="page active">
                <div class="welcome-content">
                    <h2>歡迎使用寶寶照護助手！</h2>
                    <p>記錄您寶寶的成長點滴，讓育兒更輕鬆愉快</p>
                    <button id="showAddChildModal" class="btn-primary">開始使用 - 新增第一個孩子</button>
                </div>
            </div>

            <!-- 儀表板 -->
            <div id="dashboardPage" class="page">
                <h2>儀表板</h2>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>今日記錄</h3>
                        <div id="todayStats" class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-number" id="todayFeeding">0</span>
                                <span class="stat-label">餵食次數</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="todaySleep">0</span>
                                <span class="stat-label">睡眠小時</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="todayDiaper">0</span>
                                <span class="stat-label">尿布次數</span>
                            </div>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <h3>本週趨勢</h3>
                        <canvas id="weeklyChart" width="300" height="200"></canvas>
                    </div>
                    <div class="dashboard-card">
                        <h3>最近記錄</h3>
                        <div id="recentRecords" class="recent-records">
                            <!-- 動態載入最近記錄 -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 記錄頁面 -->
            <div id="recordsPage" class="page">
                <h2>所有記錄</h2>
                <div class="filter-bar">
                    <select id="recordTypeFilter">
                        <option value="all">所有記錄</option>
                        <option value="feeding">餵食</option>
                        <option value="sleep">睡眠</option>
                        <option value="diaper">尿布</option>
                        <option value="health">健康</option>
                        <option value="milestone">里程碑</option>
                        <option value="interaction">互動</option>
                        <option value="activity">活動</option>
                    </select>
                    <input type="date" id="dateFilter">
                    <button id="clearFilters" class="btn-secondary">清除篩選</button>
                </div>
                <div id="recordsList" class="records-list">
                    <!-- 動態載入記錄列表 -->
                </div>
            </div>

            <!-- 里程碑頁面 -->
            <div id="milestonesPage" class="page">
                <h2>成長里程碑</h2>
                <div class="milestone-categories">
                    <div class="milestone-category">
                        <h3>動作發展</h3>
                        <div id="motorMilestones" class="milestone-list">
                            <!-- 動態載入里程碑 -->
                        </div>
                    </div>
                    <div class="milestone-category">
                        <h3>語言發展</h3>
                        <div id="languageMilestones" class="milestone-list">
                            <!-- 動態載入里程碑 -->
                        </div>
                    </div>
                    <div class="milestone-category">
                        <h3>社交發展</h3>
                        <div id="socialMilestones" class="milestone-list">
                            <!-- 動態載入里程碑 -->
                        </div>
                    </div>
                    <div class="milestone-category">
                        <h3>認知發展</h3>
                        <div id="cognitiveMilestones" class="milestone-list">
                            <!-- 動態載入里程碑 -->
                        </div>
                    </div>
                    <div class="milestone-category">
                        <h3>自理能力</h3>
                        <div id="selfCareMilestones" class="milestone-list">
                            <!-- 動態載入里程碑 -->
                        </div>
                    </div>
                    <div class="milestone-category">
                        <h3>自訂里程碑</h3>
                        <div id="customMilestones" class="milestone-list">
                            <!-- 動態載入自訂里程碑 -->
                        </div>
                        <button id="addCustomMilestone" class="btn-secondary">+ 新增自訂里程碑</button>
                    </div>
                </div>
            </div>

            <!-- 統計頁面 -->
            <div id="statisticsPage" class="page">
                <h2>數據統計</h2>
                <div class="stats-controls">
                    <select id="statsTimeRange">
                        <option value="week">本週</option>
                        <option value="month">本月</option>
                        <option value="3months">近三個月</option>
                        <option value="year">本年</option>
                    </select>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>餵食統計</h3>
                        <canvas id="feedingChart" width="300" height="200"></canvas>
                    </div>
                    <div class="stat-card">
                        <h3>睡眠統計</h3>
                        <canvas id="sleepChart" width="300" height="200"></canvas>
                    </div>
                    <div class="stat-card">
                        <h3>尿布統計</h3>
                        <canvas id="diaperChart" width="300" height="200"></canvas>
                    </div>
                    <div class="stat-card">
                        <h3>體重成長</h3>
                        <canvas id="weightChart" width="300" height="200"></canvas>
                    </div>
                </div>
            </div>
        </main>

        <!-- 底部導航 -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-page="dashboard">🏠 首頁</button>
            <button class="nav-btn" data-page="records">📝 記錄</button>
            <button class="nav-btn" data-page="milestones">🌟 里程碑</button>
            <button class="nav-btn" data-page="statistics">📊 統計</button>
        </nav>

        <!-- 模態視窗 -->
        <!-- 新增孩子模態 -->
        <div id="addChildModal" class="modal">
            <div class="modal-content">
                <h3>新增孩子</h3>
                <form id="addChildForm">
                    <div class="form-group">
                        <label for="childName">姓名</label>
                        <input type="text" id="childName" required>
                    </div>
                    <div class="form-group">
                        <label for="childBirthdate">出生日期</label>
                        <input type="date" id="childBirthdate" required>
                    </div>
                    <div class="form-group">
                        <label for="childGender">性別</label>
                        <select id="childGender">
                            <option value="male">男</option>
                            <option value="female">女</option>
                            <option value="other">其他</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="childPhoto">照片</label>
                        <input type="file" id="childPhoto" accept="image/*">
                        <img id="childPhotoPreview" class="photo-preview" style="display: none;">
                    </div>
                    <div class="form-group">
                        <label for="childNotes">備註</label>
                        <textarea id="childNotes" rows="3"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeModal('addChildModal')">取消</button>
                        <button type="submit" class="btn-primary">儲存</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- 快速記錄模態 -->
        <div id="quickRecordModal" class="modal">
            <div class="modal-content">
                <h3 id="quickRecordTitle">快速記錄</h3>
                <div id="quickRecordContent">
                    <!-- 動態載入內容 -->
                </div>
            </div>
        </div>

        <!-- 設定模態 -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <h3>設定</h3>
                <div class="settings-group">
                    <h4>時區設定</h4>
                    <select id="timezoneSelect">
                        <option value="Asia/Taipei">台北時間 (UTC+8)</option>
                        <option value="Asia/Tokyo">東京時間 (UTC+9)</option>
                        <option value="Asia/Seoul">首爾時間 (UTC+9)</option>
                        <option value="Asia/Shanghai">上海時間 (UTC+8)</option>
                        <option value="Asia/Hong_Kong">香港時間 (UTC+8)</option>
                        <option value="America/New_York">紐約時間 (EST/EDT)</option>
                        <option value="America/Los_Angeles">洛杉磯時間 (PST/PDT)</option>
                        <option value="Europe/London">倫敦時間 (GMT/BST)</option>
                        <option value="Europe/Paris">巴黎時間 (CET/CEST)</option>
                        <option value="Australia/Sydney">雪梨時間 (AEST/AEDT)</option>
                    </select>
                </div>
                <div class="settings-group">
                    <h4>預設記錄設定</h4>
                    <label class="switch">
                        <input type="checkbox" id="autoTimestamp">
                        <span class="slider">自動記錄時間戳</span>
                    </label>
                    <label class="switch">
                        <input type="checkbox" id="showNotifications">
                        <span class="slider">顯示提醒通知</span>
                    </label>
                </div>
                <div class="settings-group">
                    <h4>資料管理</h4>
                    <button id="exportDataBtn" class="btn-secondary">匯出資料</button>
                    <input type="file" id="importDataInput" accept=".json" style="display: none;">
                    <button id="importDataBtn" class="btn-secondary">匯入資料</button>
                    <button id="clearDataBtn" class="btn-danger">清除所有資料</button>
                </div>
                <div class="form-actions">
                    <button class="btn-primary" onclick="closeModal('settingsModal')">關閉</button>
                </div>
            </div>
        </div>

        <!-- 詳細記錄模態 -->
        <div id="detailRecordModal" class="modal">
            <div class="modal-content">
                <h3 id="detailRecordTitle">記錄詳情</h3>
                <div id="detailRecordContent">
                    <!-- 動態載入內容 -->
                </div>
            </div>
        </div>

        <!-- 載入中提示 -->
        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="loading-spinner"></div>
            <p>載入中...</p>
        </div>

        <!-- 通知提示 -->
        <div id="notification" class="notification"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>